(()=>{"use strict";const e=(e,t)=>{let l=0;return{getName:()=>e,getMarker:()=>t,updateScore:()=>l+=1}},t={displayBoard:e=>{Array.from(document.getElementsByClassName("box")).forEach(((t,l)=>{t.innerHTML=e.t[l]}))},showPlayerNames:(e,t)=>{document.getElementById("player1").setAttribute("placeholder",e.getName()),document.getElementById("player2").setAttribute("placeholder",t.getName())},showModal:e=>{document.getElementsByClassName("modal-popup")[0].style.display="grid",document.getElementById("message").innerHTML=e},closeModal:()=>{document.getElementsByClassName("modal-popup")[0].style.display="none"},showWinningComb:e=>{e.forEach((e=>{document.getElementById(e).style.color="#f00"}))},resetColors:()=>{for(let e=0;e<9;e++)document.getElementById(e).style.color="var(--letter)"}},l=e=>{let l=!1;return[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[6,4,2]].forEach((n=>{e[n[0]]!==e[n[1]]||e[n[1]]!==e[n[2]]||"X"!==e[n[0]]&&"O"!==e[n[0]]||(l=!0,t.showWinningComb(n))})),l},n=e=>e.t.every((e=>null!=e));(t=>{let o,r,a={t:[null,null,null,null,null,null,null,null,null]},s=o,d=!1;const m=()=>{let e=document.getElementById("player1"),t=document.getElementById("player2");return e=""===e.value?"X":e.value,t=""===t.value?"O":t.value,[e,t]},u=()=>{s===o?(document.getElementById("player1").style.setProperty("color","var(--box)"),document.getElementById("player2").style.setProperty("color","var(--letter)")):(document.getElementById("player1").style.setProperty("color","var(--letter)"),document.getElementById("player2").style.setProperty("color","var(--box)"))},y=e=>{if(""===e.target.innerHTML&&d){if(a.t[e.target.id]=s.getMarker(),t.displayBoard(a),l(a.t)){const e=`Winner is ${s.getName()}!`;t.showModal(e),d=!1}else if(n(a)){const e="It is a tie!";t.showModal(e)}s=s===o?r:o,u()}};Array.from(document.getElementsByClassName("box")).forEach(((e,t)=>{e.addEventListener("click",y)})),document.getElementById("reset").addEventListener("click",(()=>{a={t:[null,null,null,null,null,null,null,null,null]},o=e(m()[0],"X"),r=e(m()[1],"O"),s=o,t.showPlayerNames(o,r),u(),t.displayBoard(a),t.resetColors(),d=!0})),document.getElementById("modal").addEventListener("click",t.closeModal),t.displayBoard(a)})(t)})();